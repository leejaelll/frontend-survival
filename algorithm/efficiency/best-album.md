# ë² ìŠ¤íŠ¸ ì•¨ë²” - Hash Table

### ë¬¸ì œì„¤ëª…

ìŠ¤íŠ¸ë¦¬ë° ì‚¬ì´íŠ¸ì—ì„œ ìž¥ë¥´ ë³„ë¡œ ê°€ìž¥ ë§Žì´ ìž¬ìƒëœ ë…¸ëž˜ë¥¼ ë‘ ê°œì”© ëª¨ì•„ ë² ìŠ¤íŠ¸ ì•¨ë²”ì„ ì¶œì‹œí•˜ë ¤ í•©ë‹ˆë‹¤. ë…¸ëž˜ëŠ” ê³ ìœ  ë²ˆí˜¸ë¡œ êµ¬ë¶„í•˜ë©°, ë…¸ëž˜ë¥¼ ìˆ˜ë¡í•˜ëŠ” ê¸°ì¤€ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. ì†í•œ ë…¸ëž˜ê°€ ë§Žì´ ìž¬ìƒëœ ìž¥ë¥´ë¥¼ ë¨¼ì € ìˆ˜ë¡í•©ë‹ˆë‹¤.
2. ìž¥ë¥´ ë‚´ì—ì„œ ë§Žì´ ìž¬ìƒëœ ë…¸ëž˜ë¥¼ ë¨¼ì € ìˆ˜ë¡í•©ë‹ˆë‹¤.
3. ìž¥ë¥´ ë‚´ì—ì„œ ìž¬ìƒ íšŸìˆ˜ê°€ ê°™ì€ ë…¸ëž˜ ì¤‘ì—ì„œëŠ” ê³ ìœ  ë²ˆí˜¸ê°€ ë‚®ì€ ë…¸ëž˜ë¥¼ ë¨¼ì € ìˆ˜ë¡í•©ë‹ˆë‹¤.

ë…¸ëž˜ì˜ ìž¥ë¥´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìžì—´ ë°°ì—´ genresì™€ ë…¸ëž˜ë³„ ìž¬ìƒ íšŸìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ ë°°ì—´ playsê°€ ì£¼ì–´ì§ˆ ë•Œ, ë² ìŠ¤íŠ¸ ì•¨ë²”ì— ë“¤ì–´ê°ˆ ë…¸ëž˜ì˜ ê³ ìœ  ë²ˆí˜¸ë¥¼ ìˆœì„œëŒ€ë¡œ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”.

### ì œí•œì‚¬í•­

- genres[i]ëŠ” ê³ ìœ ë²ˆí˜¸ê°€ iì¸ ë…¸ëž˜ì˜ ìž¥ë¥´ìž…ë‹ˆë‹¤.
- plays[i]ëŠ” ê³ ìœ ë²ˆí˜¸ê°€ iì¸ ë…¸ëž˜ê°€ ìž¬ìƒëœ íšŸìˆ˜ìž…ë‹ˆë‹¤.
- genresì™€ playsì˜ ê¸¸ì´ëŠ” ê°™ìœ¼ë©°, ì´ëŠ” 1 ì´ìƒ 10,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ìž¥ë¥´ ì¢…ë¥˜ëŠ” 100ê°œ ë¯¸ë§Œìž…ë‹ˆë‹¤.
- ìž¥ë¥´ì— ì†í•œ ê³¡ì´ í•˜ë‚˜ë¼ë©´, í•˜ë‚˜ì˜ ê³¡ë§Œ ì„ íƒí•©ë‹ˆë‹¤.
- ëª¨ë“  ìž¥ë¥´ëŠ” ìž¬ìƒëœ íšŸìˆ˜ê°€ ë‹¤ë¦…ë‹ˆë‹¤.

### ìž…ì¶œë ¥ ì˜ˆ

genres plays return
["classic", "pop", "classic", "classic", "pop"] [500, 600, 150, 800, 2500] [4, 1, 3, 0]

### ìž…ì¶œë ¥ ì˜ˆ ì„¤ëª…

classic ìž¥ë¥´ëŠ” 1,450íšŒ ìž¬ìƒë˜ì—ˆìœ¼ë©°, classic ë…¸ëž˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- ê³ ìœ  ë²ˆí˜¸ 3: 800íšŒ ìž¬ìƒ
- ê³ ìœ  ë²ˆí˜¸ 0: 500íšŒ ìž¬ìƒ
- ê³ ìœ  ë²ˆí˜¸ 2: 150íšŒ ìž¬ìƒ

pop ìž¥ë¥´ëŠ” 3,100íšŒ ìž¬ìƒë˜ì—ˆìœ¼ë©°, pop ë…¸ëž˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- ê³ ìœ  ë²ˆí˜¸ 4: 2,500íšŒ ìž¬ìƒ
- ê³ ìœ  ë²ˆí˜¸ 1: 600íšŒ ìž¬ìƒ

ë”°ë¼ì„œ pop ìž¥ë¥´ì˜ [4, 1]ë²ˆ ë…¸ëž˜ë¥¼ ë¨¼ì €, classic ìž¥ë¥´ì˜ [3, 0]ë²ˆ ë…¸ëž˜ë¥¼ ê·¸ë‹¤ìŒì— ìˆ˜ë¡í•©ë‹ˆë‹¤.

**ìž¥ë¥´ ë³„ë¡œ ê°€ìž¥ ë§Žì´ ìž¬ìƒëœ ë…¸ëž˜ë¥¼ ìµœëŒ€ ë‘ ê°œê¹Œì§€ ëª¨ì•„ ë² ìŠ¤íŠ¸ ì•¨ë²”ì„ ì¶œì‹œí•˜ë¯€ë¡œ 2ë²ˆ ë…¸ëž˜ëŠ” ìˆ˜ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

---

### í’€ì´

ìš”êµ¬ì‚¬í•­ì„ ì •ë¦¬í•´ë³´ë©´,

1. ê°™ì€ ìž¥ë¥´ë¥¼ ë¬¶ì–´ì•¼í•œë‹¤. ë°˜í™˜ ê°’ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í˜„ìž¬ ë°°ì—´ì˜ ìš”ì†Œë¡œëŠ” "classic"ê³¼ "pop" ë‘ ê°œê°€ ìžˆê³  "pop" ìž¥ë¥´ì˜ ìž¬ìƒíšŸìˆ˜ê°€ ë” ë§Žìœ¼ë¯€ë¡œ pop ìž¥ë¥´ì˜ ë…¸ëž˜ë¥¼ ë¨¼ì € ë°˜í™˜í•´ì•¼í•œë‹¤.
2. ë¬¶ì¸ ë…¸ëž˜ë“¤ì„ ìž¬ìƒ íšŸìˆ˜ì— ë”°ë¼ ì •ë ¬ì„ í•´ì¤˜ì•¼í•œë‹¤.
3. ë…¸ëž˜ë¥¼ 2ê°œê¹Œì§€ ìžë¥´ëŠ” ìž‘ì—…ì´ í•„ìš”í•˜ë‹¤.

ìž¥ë¥´ì™€ ìž¬ìƒ íšŸìˆ˜ë¥¼ ë°°ì—´ë¡œ ë¬¶ì–´ì£¼ëŠ” ìž‘ì—…ì„ í•´ì¤€ë‹¤.

```js
genres.map((genre, index) => [genre, plays[index]]);
```

![.](../../.gitbook/assets/230822-1.png)

ì´ ìž¬ìƒíšŸìˆ˜ëŠ” ì–´ë–»ê²Œ êµ¬í•˜ëŠ”ê²Œ ì¢‹ì„ê¹Œ? í‚¤ë¥¼ ìž¥ë¥´ë¡œ ê°€ì§€ê³  ìžˆê³ , ê°’ìœ¼ë¡œ ì´ íšŸìˆ˜ì™€ ê° ìž¬ìƒíšŸìˆ˜ë¥¼ ê°ì²´ë¡œ ê°€ì§€ê³  ìžˆëŠ” ë°ì´í„° ìžë£Œí˜•ì„ ë§Œë“ ë‹¤. ðŸ‘‰ðŸ» `Map`ì„ ì‚¬ìš©í•œë‹¤.

```js
{'classic', {total: 1450, songs: [{500, 0}, {150, 2}, {800, 3}]}},
{'pop', {total: 3100, songs: [{600, 1}, {2500, 4}]}}

```

```js
const genreMap = new Map();

gernes
  .map((genre, index) => [genre, plays[index]])
  .forEach(([genre, play], index) => {
    const data = genreMap.get(genre) || { total: 0, songs: [] };

    genreMap.set(genre, {
      total: data.total + play,
      songs: [...data.songs, { play, index }],
    });
  });
```

{% hint="info"%}

### Map ê°ì²´, ì–¸ì œ ì‚¬ìš©í•´ì•¼í• ê¹Œ?

Map ê°ì²´ëŠ” ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ìžì£¼ ë³€ê²½í•´ì•¼í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
ê¸°ì¡´ ê°ì²´ëŠ” ìˆœíšŒë¥¼ í•  ìˆ˜ ì—†ì§€ë§Œ Map ê°ì²´ëŠ” for..of ë¬¸ì„ í†µí•´ ìˆœíšŒê°€ ê°€ëŠ¥í•˜ë‹¤.

ë§µ ê°ì²´ë¥¼ ë‹¤ë¥¼ ë•ŒëŠ” ì í‘œê¸°ë²•ì´ë‚˜ ëŒ€ê´„í˜¸í‘œê¸°ë²•ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë©”ì„œë“œ(set, get, delete, clear)ë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¡œí¼í‹°ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì¡°íšŒí•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ë™ìž‘ê³¼ ì˜ë„ë¥¼ ë³´ë‹¤ ì •í™•í•˜ê²Œ ë³´ì—¬ì¤€ë‹¤ëŠ” ìž¥ì ì´ ìžˆë‹¤.

```js
const contacts = new Map();
contacts.set('Jessie', { phone: '213-555-1234', address: '123 N 1st Ave' });
contacts.has('Jessie'); // true
contacts.get('Hilary'); // undefined
contacts.set('Hilary', { phone: '617-555-4321', address: '321 S 2nd St' });
contacts.get('Jessie'); // {phone: "213-555-1234", address: "123 N 1st Ave"}
contacts.delete('Raymond'); // false
contacts.delete('Jessie'); // true
console.log(contacts.size); // 1
```

{% endhint %}

ì´ì œ ë¬¶ì¸ ë…¸ëž˜ë“¤ì„ ìž¬ìƒ íšŸìˆ˜ì— ë”°ë¼ ì •ë ¬í•˜ëŠ” ìž‘ì—…ì´ í•„ìš”í•˜ë‹¤.

```js
[...data.songs, { play, index }].sort((a, b) => b.play - a.play).slice(0, 2);
```

genreMap ê°ì²´ê°€ ì–´ë–¤ êµ¬ì¡°ë¡œ ë˜ì–´ìžˆëŠ”ì§€ í™•ì¸í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
![](../../.gitbook/assets/230822-2.png)

ë§ˆì§€ë§‰ìœ¼ë¡œ

1. genreMap ê°ì²´ë¥¼ í•˜ë‚˜ì˜ ë°°ì—´ë¡œ ë§Œë“¤ê³  totalì˜ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤.
2. songsë§Œì„ ë°°ì—´ë¡œ ë§Œë“¤ê³  í‰íƒ„í™”ìž‘ì—…ì„ í•œë‹¤.
3. song.indexë§Œì„ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤.

```js
return [...genreMap.entries()]
  .sort((a, b) => b[1].total - a[1].total)
  .flatMap((item) => item[1].songs)
  .map((song) => song.index);
```

### ì „ì²´ì½”ë“œ

```js
function solution(genres, plays) {
  const genreMap = new Map();

  genres
    .map((genre, index) => [genre, plays[index]])
    .forEach(([genre, play], index) => {
      const data = genreMap.get(genre) || { total: 0, songs: [] };

      genreMap.set(genre, {
        total: data.total + play,
        songs: [...data.songs, { play, index }]
          .sort((a, b) => b.play - a.play)
          .slice(0, 2),
      });
    });

  return [...genreMap.entries()]
    .sort((a, b) => b[1].total - a[1].total)
    .flatMap((item) => item[1].songs)
    .map((song) => song.index);
}
```

### ì°¸ê³ 

- https://school.programmers.co.kr/learn/courses/30/lessons/42579
- https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Map
- https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap
- https://maxkim-j.github.io/posts/js-map/
