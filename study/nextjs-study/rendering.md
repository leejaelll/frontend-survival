# Rendering

### Server Components

**π”¥ Benefits of Server Rendering**

1. λ°μ΄ν„° ν¨μΉ­

- λ λ”λ§μ— ν•„μ”ν• λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ”λ° κ±Έλ¦¬λ” μ‹κ°„κ³Ό ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•΄μ•Ό ν•λ” μ–‘μ„ μ¤„μ—¬ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¬ μ μλ‹¤.

2. λ³΄μ•

- ν† ν°μ΄λ‚ API ν‚¤μ™€ κ°™μ€ λ°μ΄ν„°μ™€ λ΅μ§•μ„ ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶ν•  μ„ν— μ—†μ΄ μ„λ²„μ— λ³΄κ΄€ν•  μ μλ‹¤.

3. μΊμ‹±

- κ° μ”μ²­μ—μ„ μν–‰λλ” λ λ”λ§ λ° λ°μ΄ν„° ν¨μΉ­ μ–‘μ„ μ¤„μ—¬ μ„±λ¥μ„ κ°μ„ ν•κ³  λΉ„μ©μ„ μ κ°ν•  μ μλ‹¤.

4. λ²λ“¤ ν¬κΈ°

- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„ μ»΄ν¬λ„νΈμ© JavaScriptλ¥Ό λ‹¤μ΄λ΅λ“, νμ‹±, μ‹¤ν–‰ν•  ν•„μ”κ°€ μ—†μΌλ―€λ΅ μΈν„°λ„· μ†λ„κ°€ λλ¦¬κ±°λ‚ μ„±λ¥μ΄ λ‚®μ€ κΈ°κΈ°λ¥Ό μ‚¬μ©ν•λ” μ‚¬μ©μμ—κ² μ λ¦¬ν•λ‹¤.

5. μ΄κΈ° νμ΄μ§€ λ΅λ“ λ° μ²« λ²μ§Έ μ»¨ν…μΈ  νμΈνΈ(LCP)

- μ„λ²„μ—μ„λ” ν΄λΌμ΄μ–ΈνΈκ°€ νμ΄μ§€λ¥Ό λ λ”λ§ν•λ”λ° ν•„μ”ν• JavaScriptλ¥Ό λ‹¤μ΄λ΅λ“, νμ‹± λ° μ‹¤ν–‰κΉμ§€ κΈ°λ‹¤λ¦΄ ν•„μ” μ—†μ΄ μ‚¬μ©μκ°€ μ¦‰μ‹ νμ΄μ§€λ¥Ό λ³Ό μ μλ„λ΅ HTMLμ„ μƒμ„±ν•  μ μλ‹¤.

6. SEO λ° μ†μ… λ„¤νΈμ›ν¬ κ³µμ κ°€λ¥μ„±

- λ λ”λ§λ HTMLμ€ κ²€μƒ‰ μ—”μ§„ λ΄‡μ΄ νμ΄μ§€ μΈλ±μ¤λ¥Ό μƒμ„±ν•λ”λ° μ‚¬μ©ν•  μ μμΌλ©°, μ†μ… λ„¤νΈμ›ν¬ λ΄‡μ΄ νμ΄μ§€μ— λ€ν• μ†μ… μΉ΄λ“ λ―Έλ¦¬λ³΄κΈ°λ¥Ό μƒμ„±ν•λ”λ° μ‚¬μ©ν•  μ μλ‹¤.

7. μ¤νΈλ¦¬λ°

- μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ λ λ”λ§ μ‘μ—…μ„ μ²­ν¬λ΅ λ¶„ν• ν•μ—¬ μ¤€λΉ„λλ” λ€λ΅ ν΄λΌμ΄μ–ΈνΈλ΅ μ¤νΈλ¦¬λ°ν•  μ μλ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μλ” μ„λ²„μ—μ„ μ „μ²΄ νμ΄μ§€κ°€ λ λ”λ§λ  λ•κΉμ§€ κΈ°λ‹¤λ¦΄ ν•„μ”μ—†μ΄ νμ΄μ§€μ μΌλ¶€λ¥Ό λ¨Όμ € λ³Ό μ μλ‹¤.

<br />

**π”¥ How are Server Components rendered?**

μ„λ²„μ—μ„ Next.jsλ” Reactμ APIλ¥Ό μ‚¬μ©ν•μ—¬ λ λ”λ§μ„ μ§€νν•λ‹¤.λ λ”λ§ μ‘μ—…μ€ κ°λ³„ κ²½λ΅ μ„Έκ·Έλ¨ΌνΈμ™€ μ„μ¤νμ¤ λ°”μ΄λ”λ¦¬μ— λ”°λΌ μ²­ν¬λ΅ λ¶„ν• λλ‹¤.

κ° μ²­ν¬λ” λ‘ λ‹¨κ³„λ΅ λ λ”λ§λλ‹¤.

1. Reactλ” μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό React μ„λ²„ μ»΄ν¬λ„νΈ νμ΄λ΅λ“(RSC Payload)λΌλ” νΉμ λ°μ΄ν„° ν•μ‹μΌλ΅ λ λ”λ§ν•λ‹¤.
2. Next.jsλ” RSC νμ΄λ΅λ“μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μλ°”μ¤ν¬λ¦½νΈ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•΄ μ„λ²„μ—μ„ HTMLμ„ λ λ”λ§ν•λ‹¤.

κ·Έλ¦¬κ³  ν΄λΌμ΄μ–ΈνΈμ—μ„λ”,

1. HTMLμ€ κ²½λ΅μ λΉ λ¥Έ λΉ„λ€ν™”ν• ν”„λ¦¬λ·°λ¥Ό μ¦‰μ‹ ν‘μ‹ν•λ”λ° μ‚¬μ©λλ©°, μ΄λ” μ΄κΈ° νμ΄μ§€ λ΅λ“μ—λ§ μ‚¬μ©λλ‹¤.
2. React μ„λ²„ μ»΄ν¬λ„νΈ νμ΄λ΅λ“λ” ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„ μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό μ΅°μ •ν•κ³ , DOMμ„ μ—…λ°μ΄νΈν•λ”λ° μ‚¬μ©λλ‹¤.
3. μλ°”μ¤ν¬λ¦½νΈ λ…λ Ήμ–΄λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ±„μ°κ³  μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ€ν™”ν•μΌλ΅ λ§λ“λ”λ° μ‚¬μ©λλ‹¤.

<br />

**π”¥ Server Rendering Strategies**

**β… Static Rendering**

μ •μ  λ λ”λ§μ„ μ‚¬μ©ν•λ©΄ λΉλ“ μ‹ λλ” λ°μ΄ν„° μ¬κ²€μ¦ ν›„ λ°±κ·ΈλΌμ΄λ“μ—μ„ κ²½λ΅κ°€ λ λ”λ§λλ‹¤.

_<mark style="color:red;">
π‘‰π» μ •μ  λ λ”λ§μ€ μ •μ  λΈ”λ΅κ·Έ κ²μ‹λ¬Όμ΄λ‚ μ ν’ νμ΄μ§€μ™€ κ°™μ΄ κ²½λ΅μ— μ‚¬μ©μμ— λ§μ¶¤ν™”λμ§€ μ•κ³  λΉλ“ μ‹μ μ— μ• μ μλ” λ°μ΄ν„°κ°€ μλ” κ²½μ°μ— μ μ©ν•λ‹¤.
</mark>_

<br />

**β… Dynamic Rendering**

λ™μ  λ λ”λ§μ„ μ‚¬μ©ν•λ©΄ μ”μ²­ μ‹μ μ— κ° μ‚¬μ©μμ— λ€ν• κ²½λ΅κ°€ λ λ”λ§λλ‹¤.

_<mark style="color:red;">
π‘‰π» λ™μ  λ λ”λ§μ€ κ²½λ΅μ— μ‚¬μ©μμ—κ² λ§μ¶¤ν™”λ λ°μ΄ν„°κ°€ μκ±°λ‚ μΏ ν‚¤ λλ” URLμ κ²€μƒ‰ λ§¤κ°λ³€μμ™€ κ°™μ΄ μ”μ²­ μ‹μ μ—λ§ μ• μ μλ” μ •λ³΄κ°€ μλ” κ²½μ° μ μ©ν•λ‹¤.
</mark>_

{% hint style="info" %}

### Dynamic Functions

λ™μ  ν•¨μλ” μ‚¬μ©μμ μΏ ν‚¤, ν„μ¬ μ”μ²­ ν—¤λ” λλ” URL κ²€μƒ‰ λ§¤κ°λ³€μμ™€ κ°™μ΄ μ”μ²­ μ‹μ μ—λ§ μ• μ μλ” μ •λ³΄μ— μμ΅΄ν•λ‹¤.

- `cookies()`, `headers()` : μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ‚¬μ©ν•λ©΄ μ”μ²­ μ‹, μ „μ²΄ κ²½λ΅κ°€ λ™μ  λ λ”λ§μΌλ΅ μ „ν™λλ‹¤.
- `useSearchParams()` : ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ” μ •μ  λ λ”λ§μ„ κ±΄λ„λ›°κ³  λ€μ‹  ν΄λΌμ΄μ–ΈνΈμ—μ„ κ°€μ¥ κ°€κ°€μ΄ λ¶€λ¨ μ„μ¤νμ¤ κ²½κ³„κΉμ§€ λ¨λ“  ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•λ‹¤.

`useSearchParams`λ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό `<Suspense>`λ΅ κ°μ‹Έλ†“λ” κ²ƒμ΄ μΆ‹λ‹¤. π‘‰π» κ·Έ μ„μ— λ¨λ“  ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ μ •μ μΌλ΅ λ λ”λ§λ  μ μλ‹¤.

- `searchParams` : νμ΄μ§€ ν”„λ΅νΌν‹°λ¥Ό μ‚¬μ©ν•λ©΄ μ”μ²­ μ‹ νμ΄μ§€κ°€ λ™μ μΌλ΅ μ „ν™λλ‹¤.
  {% endhint %}

<br />

**β… Streaming**

 <figure><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fsequential-parallel-data-fetching.png&w=3840&q=75&dpl=dpl_FMGsYbamaCihTR7jyf43krGr3wQk" alt=""><figcaption></figcaption></figure>

- μ¤νΈλ¦¬λ°μ„ μ‚¬μ©ν•λ©΄ μ„λ²„μ—μ„ UIλ¥Ό μ μ§„μ μΌλ΅ λ λ”λ§ν•  μ μλ‹¤.
- μ‘μ—…μ€ μ²­ν¬λ΅ λ¶„ν• λμ–΄ μ¤€λΉ„λλ”λ€λ΅ ν΄λΌμ΄μ–ΈνΈλ΅ μ¤νΈλ¦¬λ°λλ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μλ” μ „μ²΄ μ»¨ν…μΈ μ λ λ”λ§μ΄ μ™„λ£λκΈ° μ „μ— νμ΄μ§€μ μΌλ¶€λ¥Ό λ³Ό μ μλ‹¤.

 <figure><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fserver-rendering-with-streaming.png&w=3840&q=75&dpl=dpl_FMGsYbamaCihTR7jyf43krGr3wQk" alt=""><figcaption></figcaption></figure>

- μ¤νΈλ¦¬λ°μ€ κΈ°λ³Έμ μΌλ΅ Next.js μ•± λΌμ°ν„°μ— λ‚΄μ¥λμ–΄ μμ.
- μ ν’ νμ΄μ§€μ λ¦¬λ·°κ°€ μλ‹¤κ³  κ°€μ •ν–μ„ λ•, `loading.js`μ™€ UI μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•μ—¬ κ²½λ΅ μ„Έκ·Έλ¨ΌνΈ μ¤νΈλ¦¬λ°μ„ μ‹μ‘ν•  μ μλ‹¤.

---

### Client Components

**π”¥ Benefits of Client Rendering**

1. μΈν„°λ™ν‹°λΈ

- μƒνƒ, ν¨κ³Ό λ° μ΄λ²¤νΈ λ¦¬μ¤λ„λ¥Ό μ‚¬μ©ν•  μ μμΌλ―€λ΅, μ‚¬μ©μμ—κ² μ¦‰κ°μ μΈ ν”Όλ“λ°±μ„ μ κ³µν•κ³  UIλ¥Ό μ—…λ°μ΄νΈν•  μ μλ‹¤.

2. λΈλΌμ°μ € API

- ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” geolocation λλ” localStorageμ™€ κ°™μ€ λΈλΌμ°μ € APIμ— μ ‘κ·Όν•  μ μμΌλ―€λ΅ νΉμ • μ‚¬μ© μ‚¬λ΅€μ— λ§λ” UIλ¥Ό κµ¬μ¶•ν•  μ μλ‹¤.

<br />

**π”¥ Using Client Components in Next.js**

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„  `"use client"`λ¥Ό μ‚¬μ©ν•λ‹¤.

`"use client"` π‘‰π» μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ¨λ“ μ‚¬μ΄μ κ²½κ³„λ¥Ό μ„ μ–Έν•λ”λ° μ‚¬μ©

- μ¦‰, νμΌμ— `"use client"`λ¥Ό μ •μν•λ©΄, μμ‹ μ»΄ν¬λ„νΈλ¥Ό ν¬ν•¨ν•΄ νμΌλ΅ κ°€μ Έμ¨ λ‹¤λ¥Έ λ¨λ“  λ¨λ“μ΄ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ μΌλ¶€λ΅ κ°„μ£Όλλ‹¤.

```tsx
'use client';

import { useState } from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  );
}
```

μ¤‘μ²©λ μ»΄ν¬λ„νΈκ°€ μλ” κ²½μ°, toggle.jsμ—μ„ onClickκ³Ό useStateλ¥Ό μ‚¬μ©ν•λ©΄ `"use client"` μ§€μ‹μ–΄κ°€ μ •μλμ§€ μ•μ€ κ²½μ° μ¤λ¥κ°€ λ°μƒν•λ‹¤. `toggle.js`μ— `"use client"` μ§€μ‹μ–΄λ¥Ό μ •μν•λ©΄ REST APIλ¥Ό μ‚¬μ©ν•  μ μλ” ν΄λΌμ΄μ–ΈνΈμ—μ„ μ»΄ν¬λ„νΈμ™€ κ·Έ μμ‹λ“¤μ„ λ λ”λ§ν•λ„λ΅ μ§€μ‹ν•  μ μλ‹¤.

 <figure><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fuse-client-directive.png&w=3840&q=75&dpl=dpl_FMGsYbamaCihTR7jyf43krGr3wQk" alt=""><figcaption></figcaption></figure>

<br />

**π”¥ How are Client Components Rendered?**
Next.jsμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ”μ²­μ΄ μ „μ²΄ νμ΄μ§€ λ΅λ“μ μΌλ¶€μΈμ§€ λλ” ν›„μ† νƒν•µμ μΌλ¶€μΈμ§€μ— λ”°λ€ λ‹¤λ¥΄κ² λ λ”λ§λλ‹¤.
